"use strict";const inputSearch=document.querySelector(".js-input"),iconSearch=document.querySelector(".js-search"),title=document.querySelector(".js-title"),header=document.querySelector(".js-header"),mainCards=document.querySelector(".js-content"),listener=e=>{searchShow(),changeClassInitial()},changeClassInitial=()=>{header.classList.remove("headerInitial"),header.classList.add("header")},changeHeader=e=>{inputSearch.value="",mainCards.innerHTML="",header.classList.remove("header"),header.classList.add("headerInitial")};let shows=[];function searchShow(){const e=inputSearch.value;e?fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{shows=e.map(e=>e.show),printShows(shows)}):mainCards.innerHTML='<h2 class="error">No has introducido ninguna serie :-(</h2>'}const printShows=e=>{mainCards.innerHTML="";for(const s of e)null!==s.image?mainCards.innerHTML+=`<article id="${s.id}"class="card__show js-cards"><img class="card__show--img" src="${s.image.medium}" alt="${s.name}"/><div class="content__boxTitle"><h3 class="card__show--title">${s.name}</h3></div> </article>`:mainCards.innerHTML+=`<article class="card__show js-cards"><img class="card__show--img" src="https://via.placeholder.com/260x310/ffffff/666666/?text=TVShows" alt="${s.name}"/><div class="content__boxTitle"><h3 class="card__show--title">${s.name}</h3></div> </article>`;listenerCards()},listenerCards=()=>{const e=document.querySelectorAll(".js-cards");for(const s of e)s.addEventListener("click",addFavorite)};let favoritesShows=[];const asideFavorite=document.querySelector(".js-asideFavorite"),addFavorite=e=>{const s=e.currentTarget,a=parseInt(s.id),t=favoritesShows.find(e=>e.id===a),i=favoritesShows.findIndex(e=>e.id===a);if(void 0===t){s.classList.add("card__favoriteAdd");for(const e of shows)a===e.id&&(favoritesShows.push(e),asideFavorite.classList.contains("hidden")&&(asideFavorite.classList.remove("hidden","menuInitial"),asideFavorite.classList.add("menu"),mainCards.classList.remove("content_cards"),mainCards.classList.add("content__cardsFavorite")),console.log("Me han aÃ±adadido en favoritos"))}else console.log("Me han quitado de favoritos"),favoritesShows.splice(i,1),s.classList.remove("card__favoriteAdd");console.log(favoritesShows),saveLocalStorage()},saveLocalStorage=()=>{localStorage.setItem("favorite",JSON.stringify(favoritesShows))},printFavorite=e=>{const s=document.querySelector(".js-listFavorite");e.currentTarget;for(const e of favoritesShows)s.innerHTML+=`<li class="favorite__list--card"><title class="favorite__title__list">${e.textContent}</title><img class="favorite__card__img" src="https://vignette.wikia.nocookie.net/doblaje/images/6/65/250px-Friends_titles.jpg/revision/latest?cb=20171119185557&path-prefix=es" alt=""/></li>`};iconSearch.addEventListener("click",listener),title.addEventListener("click",changeHeader);